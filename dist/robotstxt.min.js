/*! robotstxt-js v1.0.1 | Copyright (c) 2025-present, Zsolt Oroszl√°ny <hello@playfulsparkle.com> | BSD-3-Clause */
(()=>{class r{constructor(e,t){this.type=e,this.path=t}}class n{constructor(e){this.userAgent=e,this.crawlDelay=null,this.rules=[]}getName(){return this.userAgent}getCrawlDelay(){return this.crawlDelay}getRules(){return this.rules}allow(e){this.addRule("allow",e)}disallow(e){this.addRule("disallow",e)}addRule(e,t){this.rules.push(new r(e,t))}}class t{constructor(e){this.parsedData={groups:[],sitemaps:[]},this.parse(e)}parse(e){var t,a=[];for(t of e.split("\n")){let e=t.trim();var r,s=e.indexOf("#");(e=-1!==s?e.slice(0,s).trim():e)&&-1!==(s=e.indexOf(":"))&&(r=e.slice(0,s).trim().toLowerCase(),s=e.slice(s+1).trim(),r)&&s&&a.push({directive:r,value:s})}a[0]&&"user-agent"!==a[0].directive&&a.unshift({directive:"user-agent",value:"*"});let i=[],l=!1,u={};for(let e=0;e<a.length;e++){let r=a[e];var o=a[e+1];if("user-agent"===r.directive)i.push(r.value),u[r.value]||(u[r.value]=new n(r.value));else if("allow"===r.directive)i.forEach(e=>u[e].allow(r.value)),l=!0;else if("disallow"===r.directive)i.forEach(e=>u[e].disallow(r.value)),l=!0;else if("crawl-delay"===r.directive){let t=parseFloat(r.value);isNaN(t)||i.forEach(e=>{u[e].crawlDelay||(u[e].crawlDelay=t)}),l=!0}else"sitemap"===r.directive&&this.parsedData.sitemaps.push(r.value);o&&l&&"user-agent"===o.directive&&(l=!1,i=[])}this.parsedData.groups=Object.values(u)}isAllowed(e,t="*"){var r,a,t=this.getApplicableRules(t),s=this.normalizeUrlPath(e),i=[];for(r of t)this.pathMatches(r.path,s)&&i.push(r);if(0===i.length)return!0;let l=i[0];for(a of i){var u=this.getRuleSpecificity(a.path);this.getRuleSpecificity(l.path)<u&&(l=a)}return"allow"===l.type}isDisallowed(e,t="*"){return!this.isAllowed(e,t)}getSitemaps(){return this.parsedData.sitemaps}getUserAgent(t="*"){return this.parsedData.groups.find(e=>e.userAgent.toLowerCase()===t.toLowerCase())||null}getRuleSpecificity(e){let t=e.length;return e.includes("*")?t-=.5:e.endsWith("$")&&(t+=.5),t}getApplicableGroups(t){var e=this.parsedData.groups.filter(e=>e.userAgent.toLowerCase()===t.toLowerCase());return 0<e.length?e:this.parsedData.groups.filter(e=>"*"===e.userAgent)}getApplicableRules(e){return this.getApplicableGroups(e).flatMap(e=>e.getRules())}normalizeUrlPath(e){try{return this.normalizePath(new URL(e).pathname)}catch{return this.normalizePath(e)}}pathMatches(e,t){e=this.normalizePath(e).replace(/[.^+?(){}[\]|\\]/gu,"\\$&").replace(/\*/gu,".*");return new RegExp("^"+e,"u").test(t)}normalizePath(e){e=decodeURIComponent(e).replace(/\/+/g,"/");return e.startsWith("/")?e:"/"+e}}function e(e){return new t(e)}"undefined"!=typeof exports&&(exports.robotstxt=e),"undefined"!=typeof window&&(window.robotstxt=e,"function"==typeof define)&&define.amd&&define(()=>({robotstxt:e}))})();
//# sourceMappingURL=robotstxt.min.js.map
